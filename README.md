---

# Chess Hack JS

## Описание проекта

**Chess Hack JS** — это веб-скрипт для игры в шахматы, который автоматически вычисляет лучший ход, используя шахматный движок Stockfish. Скрипт анализирует состояние шахматной доски, генерирует строку в формате FEN, отправляет её движку и отображает на доске рекомендованные ходы.

### Функциональность
- Автоматическая проверка наличия шахматной партии перед началом работы.
- Поддержка выбора цвета игрока (белые или черные).
- Генерация FEN-строки для анализа текущего состояния игры.
- Взаимодействие с шахматным движком Stockfish для получения лучших ходов.
- Визуальная подсветка рекомендованных ходов на шахматной доске.
- Возможность перезагрузки скрипта и его повторного выполнения.

## Как использовать

1. **Подключение скрипта**:
   Сначала подключите скрипт на странице с шахматной игрой:
   ```html
   <script src="https://cdn.jsdelivr.net/gh/quickyyy/chesshackjs@main/%D0%B0bobus2.js"></script>
   ```

2. **Запуск скрипта**:
   После загрузки страницы на шахматной доске появится кнопка **"Рассчитать лучший ход"**. Нажмите её для запуска алгоритма.

3. **Работа с шахматным движком**:
   Скрипт автоматически отправит текущую позицию шахматной доски в движок Stockfish и получит лучший ход.

4. **Подсветка ходов**:
   Лучший ход будет подсвечен на доске. Красным цветом будут выделены начальная и конечная клетки рекомендованного хода.

## Требования

Для работы скрипта необходимо:
- Шахматная доска на HTML-странице с тегом `chess-board` или аналогичным элементом.
- Веб-страница должна поддерживать загрузку сторонних скриптов через `<script>`.

## Как это работает

1. **Проверка шахматной доски**:
   Скрипт проверяет наличие элемента шахматной доски на странице. Если доска отсутствует, выводится сообщение об ошибке, и работа скрипта не продолжается.

2. **Выбор цвета игрока**:
   Пользователь выбирает цвет, за который он играет — белые или черные. Скрипт использует этот выбор для определения стороны при расчётах движка.

3. **Генерация FEN-строки**:
   Скрипт проходит по клеткам шахматной доски, чтобы создать строку FEN, представляющую текущее состояние игры.

4. **Запрос к движку Stockfish**:
   Используя Web Worker, скрипт отправляет строку FEN в движок Stockfish для анализа и получает наилучший ход.

5. **Подсветка клеток**:
   После получения хода на доске визуально подсвечиваются клетки, на которые нужно переместить фигуру.

## Возможные проблемы

1. **Сообщение об ошибке**:
   Если скрипт не может найти элемент шахматной доски, убедитесь, что элемент существует и имеет правильный тег или класс. Также убедитесь, что страница полностью загружена перед запуском скрипта.

2. **Асинхронная загрузка доски**:
   Если шахматная доска загружается позже, попробуйте настроить проверку доски с помощью `setInterval` или `DOMContentLoaded`.

## Лицензия

Этот проект распространяется под свободной лицензией MIT. Вы можете свободно использовать и модифицировать этот скрипт для личных или коммерческих нужд.

---
